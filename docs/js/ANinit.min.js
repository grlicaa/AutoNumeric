/**
 * ANinit.js v1.0.1 | THE RIGHT THING SOLUTIONS d.o.o. | Andrej Grlica | andrej.grlica@right-thing.solutions.si 
 * User with Oracle APEX plug-in to render data
 * Â© 2020 Andrej Grlica
 * Dependencies : autonumeric.js@4.6.0
 * Released under the MIT License.
 */
function ANgetNumStr(e,t,s){var a=document.createElement("input");return a.setAttribute("type","hidden"),{val:new AutoNumeric(a,s?(""+e).replace(",","."):e,t).getFormatted(),class:$(a).attr("class")}}function ANIGevents(e,t,s){var a;$("#"+e).focusin(function(i){var u=$(this).val();apex.debug.message(5,"[Plug-in AN] focusin %s value :%s",e,u),a=u?new AutoNumeric(this,s?(""+u).replace(",","."):u,t):new AutoNumeric(this,t),""==u&&a.settings.styleRules&&(a.settings.styleRules.ranges?Object.getOwnPropertyNames(a.settings.styleRules.ranges).forEach(function(t,s,i){"class"==t&&$("#"+e).removeClass(a.settings.styleRules.ranges[t])}):Object.getOwnPropertyNames(a.settings.styleRules).forEach(function(t,s,i){$("#"+e).removeClass(a.settings.styleRules[t])})),a.reformat()}),$("#"+e).focusout(function(){var t="";""!=a.get()&&(t=s?(""+a.getNumber()).replace(".",","):a.getNumber()),a.remove(),apex.debug.message(5,"[Plug-in AN] focusout %s value :%s",e,t),$(this).val(t)})}function ANIGsetAliment(e){var t=$("div.ig-div-autonumeric:has(input[id^='"+e+"_']):first").parent();t.hasClass("u-tE")?$("#"+e).css("text-align","right"):t.hasClass("u-tC")&&$("#"+e).css("text-align","center")}function ANIGinit(e,t,s){apex.debug.message(4,"[Plug-in AN] ANIGinit(id:%s, replace_numbers:%s)",e,s);var a=0;const i=$("#"+e);i.addClass("u-vh is-focusable").parent();$(document).ready(function(){ANIGevents(e,t,s),ANIGsetAliment(e)}),apex.item.create(e,{setValue:function(t,s){i.val(t),apex.debug.message(5,"[Plug-in AN] apex item: %s set value : %s",e,t)},disable:function(){i.closest(".ig-div-autonumeric").removeClass("ig-div-autonumeric-enabled"),i.closest(".ig-div-autonumeric").addClass("ig-div-autonumeric-disabled"),i.attr("readonly","readonly"),i.addClass("apex_disabled")},isDisabled:function(){return i.closest(".ig-div-autonumeric").hasClass("ig-div-autonumeric-disabled")},enable:function(){i.closest(".ig-div-autonumeric").removeClass("ig-div-autonumeric-disabled"),i.closest(".ig-div-autonumeric").addClass("ig-div-autonumeric-enabled"),i.removeAttr("readonly"),i.removeClass("apex_disabled")},displayValueFor:function(i){return function(i){var u=ANgetNumStr(i,t,s);const n=apex.util.htmlBuilder();return n.markup("<div").attr("class","ig-div-autonumeric "+(u.class?"ig-autonumeric-custom "+u.class:"")).attr("class").markup("><input").attr("type","hidden").attr("class","ig-auto-numeric").attr("id",e+"_"+a+"_0").attr("name",e+"_"+a).attr("value",s?(""+i).replace(".",","):i).attr("tabindex",-1).markup(" /><label").attr("for",e+"_"+a+"_0").markup(">").content(u.val).markup("</label>").markup("</div>"),a+=1,n.toString()}(i)}})}function ANForminit(e,t,s){apex.debug.message(4,"[Plug-in AN] ANForminit(id:%s, replace_numbers:%s)",e,s),new AutoNumeric("#"+e,t),apex.jQuery(apex.gPageContext$).on("apexbeforepagesubmit",function(){if(AutoNumeric.isManagedByAutoNumeric("#"+e)){var t=AutoNumeric.getAutoNumericElement("#"+e);if(""!=t.get()){var a=t.getNumber();t.remove();var i=s?(""+a).replace(".",","):a;apex.debug.message(5,"[Plug-in AN] apexbeforepagesubmit id:%s, value:%s",e,i),apex.item(e).setValue(i)}}}),$("#"+e).focusin(function(e){$(this).parents(":eq(2)").addClass("is-active")}),$("#"+e).focusout(function(){$(this).parents(":eq(2)").removeClass("is-active")})}